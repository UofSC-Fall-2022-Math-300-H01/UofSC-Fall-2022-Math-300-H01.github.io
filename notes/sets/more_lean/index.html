<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Proofs in Lean | Math 300</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Proofs in Lean" /><meta property="og:locale" content="en_US" /><meta name="description" content="Thinking and communicating like a mathematician." /><meta property="og:description" content="Thinking and communicating like a mathematician." /><link rel="canonical" href="https://300.f22.matthewrobertballard.com/notes/sets/more_lean/" /><meta property="og:url" content="https://300.f22.matthewrobertballard.com/notes/sets/more_lean/" /><meta property="og:site_name" content="Math 300" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Proofs in Lean" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Thinking and communicating like a mathematician.","headline":"Proofs in Lean","url":"https://300.f22.matthewrobertballard.com/notes/sets/more_lean/"}</script><meta name="robots" content="noindex"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous"> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous"></script> <script> document.addEventListener("DOMContentLoaded", function() { renderMathInElement(document.body, { delimiters: [ {left: "$$", right: "$$", display: true}, {left: "$", right: "$", display: false}, {left: "\\(", right: "\\)", display: true}, {left: "\\begin{equation}", right: "\\end{equation}", display: true}, {left: "\\begin{align}", right: "\\end{align}", display: true}, {left: "\\begin{alignat}", right: "\\end{alignat}", display: true}, {left: "\\begin{gather}", right: "\\end{gather}", display: true}, {left: "\\begin{CD}", right: "\\end{CD}", display: true}, {left: "\\[", right: "\\]", display: true} ], throwOnError : false, trust: (context) => ['\\htmlId', '\\href'].includes(context.command), macros: { "\\eqref": "\\href{###1}{(\\text{#1})}", "\\ref": "\\href{###1}{\\text{#1}}", "\\label": "\\htmlId{#1}{}" } }); }); </script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="https://300.f22.matthewrobertballard.com/" class="site-title lh-tight"> Math 300 </a> <a href="#" aria-label="Main Menu" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="https://300.f22.matthewrobertballard.com/calendar/" class="nav-list-link">Schedule</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/homework/" class="nav-list-link">Homework</a><ul class="nav-list "><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/00/" class="nav-list-link">Homework 0</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/01/" class="nav-list-link">Homework 1</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/02/" class="nav-list-link">Homework 2</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/03/" class="nav-list-link">Homework 3</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/04/" class="nav-list-link">Homework 4</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/05/" class="nav-list-link">Homework 5</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/06/" class="nav-list-link">Homework 6</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/07/" class="nav-list-link">Homework 7</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/08/" class="nav-list-link">Homework 8</a><li class="nav-list-item "><a href="https://300.f22.matthewrobertballard.com/homework/09/" class="nav-list-link">Homework 9</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/intro/" class="nav-list-link">Notes</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/intro/" class="nav-list-link">Propositional logic</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/deduction/" class="nav-list-link">Propositions and proofs</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/connectives/" class="nav-list-link">And, or, implies</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/negation/" class="nav-list-link">Not</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/raa/" class="nav-list-link">Reductio ad absurdum</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/models/" class="nav-list-link">Truth tables</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/pf_v_truth/" class="nav-list-link">Proof vs truth</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/propositional_logic/useful_facts/" class="nav-list-link">Useful formula</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/lean/intro/" class="nav-list-link">Lean</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/lean/formulas/" class="nav-list-link">Logical formulas</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/lean/rules/" class="nav-list-link">Proofs and our first rules</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/lean/proofs/" class="nav-list-link">More rules and proofs</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/lean/negation/" class="nav-list-link">Negation and RAA</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/lean/mode/" class="nav-list-link">Interactive mode</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/predicate/intro/" class="nav-list-link">Predicate logic</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/predicate/" class="nav-list-link">Predicates, quantifiers, and equality</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/rules/" class="nav-list-link">New rules of inference</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/models/" class="nav-list-link">Soundness and completeness</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/examples/" class="nav-list-link">Examples</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/lean/" class="nav-list-link">Lean</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/predicate/lean_pfs/" class="nav-list-link">Proofs in Lean</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/sets/intro/" class="nav-list-link">Sets</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/sets/basic/" class="nav-list-link">Basics</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/sets/operations/" class="nav-list-link">Operations on sets</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/sets/lean/" class="nav-list-link">Sets in Lean</a><li class="nav-list-item active"> <a href="https://300.f22.matthewrobertballard.com/notes/sets/more_lean/" class="nav-list-link active">Proofs in Lean</a></ul><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://300.f22.matthewrobertballard.com/notes/functions/intro/" class="nav-list-link">Functions</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/functions/basic/" class="nav-list-link">Basic ideas</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/functions/properties/" class="nav-list-link">Properties of functions</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/functions/inverses/" class="nav-list-link">Inverses</a><li class="nav-list-item "> <a href="https://300.f22.matthewrobertballard.com/notes/functions/in_sets/" class="nav-list-link">Functions and sets</a></ul></ul><li class="nav-list-item"><a href="https://300.f22.matthewrobertballard.com/syllabus/" class="nav-list-link">Syllabus</a><li class="nav-list-item"><a href="https://300.f22.matthewrobertballard.com/staff/" class="nav-list-link">Me</a></ul></nav></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Math 300" aria-label="Search Math 300" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://www.matthewrobertballard.com" class="site-button" > Matthew Ballard </a><li class="aux-nav-list-item"> <a href="https://teams.microsoft.com/l/team/19%3aNuiMUz_x3xwZIvFUwug0QNs7WmIfCCqhMWTwjTW1Yl01%40thread.tacv2/conversations?groupId=c7722f4d-801d-4fe6-83ad-1ef47c152f04&tenantId=4b2a4b19-d135-420e-8bb2-b1cd238998cc" class="site-button" > Microsoft Teams </a><li class="aux-nav-list-item"> <a href="https://github.com/UofSC-Fall-2022-Math-300-H01" class="site-button" > Github </a><li class="aux-nav-list-item"> <a href="https://classroom.github.com/classrooms/110835743-intro-to-proofs" class="site-button" > Github Classroom </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://300.f22.matthewrobertballard.com/notes/intro/">Notes</a><li class="breadcrumb-nav-list-item"><a href="https://300.f22.matthewrobertballard.com/notes/sets/intro/">Sets</a><li class="breadcrumb-nav-list-item"><span>Proofs in Lean</span></ol></nav><div id="main-content" class="main-content" role="main"><h2 id="more-set-theoretic-proofs-in-lean"> <a href="#more-set-theoretic-proofs-in-lean" class="anchor-heading" aria-labelledby="more-set-theoretic-proofs-in-lean"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> More set theoretic proofs in Lean</h2><p>We’ve seen an example where the goal is to give a proof of an equality of sets. Both in Lean and with pen-and-paper, to show two sets are equal <code class="language-plaintext highlighter-rouge">X=Y</code> we use set extensionality to reduce to establishing <code class="language-plaintext highlighter-rouge">∀ x, x ∈ X ↔ x ∈ Y</code>. We then take some <code class="language-plaintext highlighter-rouge">x ∈ U</code>, prove one direction <code class="language-plaintext highlighter-rouge">x ∈ X → x ∈ Y</code>, and then the other <code class="language-plaintext highlighter-rouge">x ∈ Y → x ∈ X</code>.</p><p>While for pen-and-paper everyone can just do this conversion “in their head”, in Lean we need to step the computer through each time. This can be tedious so we automate it. For that, we can use a tactic called <code class="language-plaintext highlighter-rouge">set_extensionality</code>.</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">U</span> : <span class="kt">Type</span>)
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> : <span class="n">Set</span> <span class="n">U</span>) 

<span class="k">example</span> : <span class="n">X</span> <span class="o">=</span> <span class="n">Y</span> := 
  <span class="n">set_extensionality</span> <span class="n">x</span><span class="cd"> 
  -- we now have x:U
  -- and two goals x ∈ X → x ∈ Y and x ∈ X → x ∈ Y
  -- we sorry these goals because we cannot prove two sets are 
  -- equal in general</span>
  <span class="o">.</span> <span class="n">sorry</span>
  <span class="o">.</span> <span class="n">sorry</span> </code></pre></figure><p><code class="language-plaintext highlighter-rouge">set_extensionality</code> helps us when proving a goal of the form <code class="language-plaintext highlighter-rouge">X=Y</code>. What if we have a hypothesis of set equality?</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">x</span>:<span class="n">U</span>)
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> : <span class="n">Set</span> <span class="n">U</span>) 

<span class="k">example</span> (<span class="n">h</span>: <span class="n">X</span> <span class="o">=</span> <span class="n">Y</span>) : <span class="n">X</span> <span class="err">∪</span> <span class="n">Z</span> <span class="o">=</span> <span class="n">Y</span> <span class="err">∪</span> <span class="n">Z</span> := <span class="k">by</span> 
  <span class="n">rewrite</span> [<span class="n">h</span>] 
  <span class="n">rfl</span> </code></pre></figure><p>Rewriting the goal with the assumption <code class="language-plaintext highlighter-rouge">X=Y</code> produces a new goal <code class="language-plaintext highlighter-rouge">X ∪ Z = X ∪ Z</code>. Recall the tactic <code class="language-plaintext highlighter-rouge">rfl</code> solves goals of the form <code class="language-plaintext highlighter-rouge">t = t</code>. We can also use <code class="language-plaintext highlighter-rouge">rw</code> in place of <code class="language-plaintext highlighter-rouge">rewrite</code> and <code class="language-plaintext highlighter-rouge">rfl</code> as <code class="language-plaintext highlighter-rouge">rw</code> does a rewrite and then calls <code class="language-plaintext highlighter-rouge">rfl</code>.</p><p>Let’s see another one.</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">U</span> : <span class="kt">Type</span>)
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> : <span class="n">Set</span> <span class="n">U</span>)

<span class="k">example</span> (<span class="n">h</span> : <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span>) : <span class="n">Z</span> <span class="err">\</span> <span class="n">Y</span> <span class="err">⊆</span> <span class="n">Z</span> <span class="err">\</span> <span class="n">X</span> := <span class="k">by</span> 
  <span class="n">intro</span> (<span class="n">x</span>:<span class="n">U</span>) (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Z</span> <span class="err">\</span> <span class="n">Y</span>)
  <span class="k">have</span> : <span class="n">x</span> <span class="err">∉</span> <span class="n">X</span> := <span class="n">sorry</span> 
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">g</span><span class="o">.</span><span class="n">left</span>,<span class="n">this</span><span class="o">⟩</span> </code></pre></figure><p>The only thing left is to fill in the <code class="language-plaintext highlighter-rouge">sorry</code>. Knowing that if <code class="language-plaintext highlighter-rouge">X ⊆ Y</code> and <code class="language-plaintext highlighter-rouge">x ∉ Y</code>, then <code class="language-plaintext highlighter-rouge">x ∉ X</code> seems like a useful result itself. We give it a name and then use it. (Remember that given <code class="language-plaintext highlighter-rouge">h : A ∧ B</code> we can access a proof of <code class="language-plaintext highlighter-rouge">A</code> using <code class="language-plaintext highlighter-rouge">h.left</code> and a proof of <code class="language-plaintext highlighter-rouge">B</code> using <code class="language-plaintext highlighter-rouge">h.right</code>.)</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">U</span> : <span class="kt">Type</span>)
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> : <span class="n">Set</span> <span class="n">U</span>)

<span class="k">theorem</span> <span class="n">sub_comp_super</span> (<span class="n">h</span> : <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span>) : <span class="n">Y</span><span class="err">ᶜ</span> <span class="err">⊆</span> <span class="n">X</span><span class="err">ᶜ</span> := <span class="k">by</span> 
  <span class="n">intro</span> (<span class="n">x</span> : <span class="n">U</span>) (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Y</span><span class="err">ᶜ</span>) (<span class="n">n</span> : <span class="n">l</span> <span class="err">∈</span> <span class="n">X</span>) 
  <span class="n">exact</span> <span class="n">g</span> (<span class="n">h</span> <span class="n">x</span> <span class="n">l</span>) 

<span class="k">example</span> (<span class="n">h</span> : <span class="n">X</span> <span class="err">⊆</span> <span class="n">Y</span>) : <span class="n">Z</span> <span class="err">\</span> <span class="n">Y</span> <span class="err">⊆</span> <span class="n">Z</span> <span class="err">\</span> <span class="n">X</span> := <span class="k">by</span> 
  <span class="n">intro</span> (<span class="n">x</span>:<span class="n">U</span>) (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Z</span> <span class="err">\</span> <span class="n">Y</span>)
  <span class="k">have</span> : <span class="n">x</span> <span class="err">∉</span> <span class="n">X</span> := <span class="n">sub_comp_super</span> <span class="n">h</span> <span class="n">x</span> <span class="n">g</span><span class="o">.</span><span class="n">right</span> 
  <span class="n">exact</span> <span class="o">⟨</span><span class="n">g</span><span class="o">.</span><span class="n">left</span>,<span class="n">this</span><span class="o">⟩</span> </code></pre></figure><p>Next we look at the distributivity of intersection over unions.</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">U</span> : <span class="kt">Type</span>) 
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> : <span class="n">Set</span> <span class="n">U</span>)

<span class="k">theorem</span> <span class="n">dist_inter_union</span> : <span class="n">X</span> <span class="err">∩</span> (<span class="n">Y</span> <span class="err">∪</span> <span class="n">Z</span>) <span class="o">=</span> (<span class="n">X</span> <span class="err">∩</span> <span class="n">Y</span>) <span class="err">∪</span> (<span class="n">X</span> <span class="err">∩</span> <span class="n">Z</span>) := <span class="k">by</span>
  <span class="n">set_extensionality</span> <span class="n">x</span> 
  <span class="err">·</span> <span class="n">intro</span> (<span class="n">h</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">X</span> <span class="err">∩</span> (<span class="n">Y</span> <span class="err">∪</span> <span class="n">Z</span>))
    <span class="n">cases</span> <span class="n">h</span><span class="o">.</span><span class="n">right</span> <span class="k">with</span> 
    <span class="o">|</span> <span class="n">inl</span> (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Y</span>) <span class="o">=&gt;</span> <span class="n">exact</span> <span class="n">Or</span><span class="o">.</span><span class="n">inl</span> <span class="o">⟨</span><span class="n">h</span><span class="o">.</span><span class="n">left</span>,<span class="n">g</span><span class="o">⟩</span>  
    <span class="o">|</span> <span class="n">inr</span> (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Z</span>) <span class="o">=&gt;</span> <span class="n">exact</span> <span class="n">Or</span><span class="o">.</span><span class="n">inr</span> <span class="o">⟨</span><span class="n">h</span><span class="o">.</span><span class="n">left</span>,<span class="n">g</span><span class="o">⟩</span>  
  <span class="err">·</span> <span class="n">intro</span> (<span class="n">h</span> : <span class="n">x</span> <span class="err">∈</span> (<span class="n">X</span> <span class="err">∪</span> <span class="n">Y</span>) <span class="err">∩</span> (<span class="n">X</span> <span class="err">∩</span> <span class="n">Z</span>))  
    <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> 
    <span class="o">|</span> <span class="n">inl</span> (<span class="n">g</span> : <span class="n">X</span> <span class="err">∩</span> <span class="n">Y</span>) <span class="o">=&gt;</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">g</span><span class="o">.</span><span class="n">left</span>,<span class="n">Or</span><span class="o">.</span><span class="n">inl</span> <span class="n">g</span><span class="o">.</span><span class="n">right</span><span class="o">⟩</span> 
    <span class="o">|</span> <span class="n">inr</span> (<span class="n">g</span> : <span class="n">X</span> <span class="err">∩</span> <span class="n">Z</span>) <span class="o">=&gt;</span> <span class="n">exact</span> <span class="o">⟨</span><span class="n">g</span><span class="o">.</span><span class="n">left</span>,<span class="n">Or</span><span class="o">.</span><span class="n">inr</span> <span class="n">g</span><span class="o">.</span><span class="n">right</span><span class="o">⟩</span> </code></pre></figure><p>In place of an <code class="language-plaintext highlighter-rouge">apply Or.elim</code>, we have used the <code class="language-plaintext highlighter-rouge">cases</code> tactic. This tactic creates different proof goals for each way there is to build the term. In our case, <code class="language-plaintext highlighter-rouge">h.right : x ∈ Y ∪ Z</code> which is definitionally equivalent to <code class="language-plaintext highlighter-rouge">x ∈ Y ∨ x ∈ Z</code>. There are two ways to make a proof of an or-statement: either you have a proof of the left and use <code class="language-plaintext highlighter-rouge">.inl</code> or you have a proof the right and use <code class="language-plaintext highlighter-rouge">.inr</code>. These constructors are the labels for the two branches of the cases. Note that <code class="language-plaintext highlighter-rouge">cases</code> comes with additional syntax: <code class="language-plaintext highlighter-rouge">with</code> and the <code class="language-plaintext highlighter-rouge">|</code> to label the branches.</p><p>Here is an example with the use of <code class="language-plaintext highlighter-rouge">cases</code> for the existential quantifer.</p><figure class="highlight"><pre><code class="language-lean" data-lang="lean"><span class="k">variable</span> (<span class="n">I</span> <span class="n">U</span> : <span class="kt">Type</span>)
<span class="k">variable</span> (<span class="n">X</span> <span class="n">Y</span> : <span class="n">I</span> <span class="o">→</span> <span class="n">Set</span> <span class="n">U</span>)

<span class="k">example</span> (<span class="n">h</span> : <span class="o">∃</span> (<span class="n">i</span>:<span class="n">I</span>), <span class="n">X</span> <span class="n">i</span> <span class="err">∩</span> <span class="n">Y</span> <span class="n">i</span> <span class="o">=</span> <span class="err">∅</span>) : <span class="n">BigInter</span> <span class="n">X</span> <span class="err">∩</span> <span class="n">BigInter</span> <span class="n">Y</span> <span class="o">=</span> <span class="err">∅</span> := <span class="k">by</span>
  <span class="n">set_extensionality</span> <span class="n">x</span>
  <span class="err">·</span> <span class="n">intro</span> (<span class="n">g</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">BigInter</span> <span class="n">X</span> <span class="err">∩</span> <span class="n">BigInter</span> <span class="n">Y</span>)  
    <span class="n">cases</span> <span class="n">h</span> <span class="k">with</span> 
    <span class="o">|</span> <span class="n">intro</span> (<span class="n">i</span> : <span class="n">I</span>) (<span class="n">g</span><span class="err">₁</span> : <span class="n">X</span> <span class="n">i</span> <span class="err">∩</span> <span class="n">Y</span> <span class="n">i</span> <span class="o">=</span> <span class="err">∅</span>) <span class="o">=&gt;</span> 
      <span class="k">have</span> <span class="n">g</span><span class="err">₂</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">X</span> <span class="n">i</span> := <span class="n">g</span><span class="o">.</span><span class="n">left</span> <span class="n">i</span> 
      <span class="k">have</span> <span class="n">g</span><span class="err">₃</span> : <span class="n">x</span> <span class="err">∈</span> <span class="n">Y</span> <span class="n">i</span> := <span class="n">g</span><span class="o">.</span><span class="n">right</span> <span class="n">i</span> 
      <span class="k">have</span> <span class="n">g</span><span class="err">₄</span> : <span class="n">x</span> <span class="err">∉</span> <span class="n">X</span> <span class="n">i</span> <span class="err">∩</span> <span class="n">Y</span> <span class="n">i</span> := <span class="k">by</span> 
        <span class="n">rw</span> [<span class="n">g</span><span class="err">₁</span>] 
        <span class="n">exact</span> <span class="k">fun</span> <span class="n">h</span> <span class="o">=&gt;</span> <span class="n">False</span><span class="o">.</span><span class="n">elim</span> <span class="n">h</span>
      <span class="n">exact</span> <span class="n">g</span><span class="err">₄</span> <span class="o">⟨</span><span class="n">g</span><span class="err">₂</span>,<span class="n">g</span><span class="err">₃</span><span class="o">⟩</span> 
  <span class="err">·</span> <span class="n">exact</span> <span class="k">fun</span> <span class="n">h</span> <span class="o">=&gt;</span> <span class="n">False</span><span class="o">.</span><span class="n">elim</span> <span class="n">h</span> </code></pre></figure><hr><footer><p class="text-small text-grey-dk-100 mb-0"><a href="https://300.f22.matthewrobertballard.com/about_this_webpage/">About this webpage.</a> Copyright &copy; 2022 Matthew Ballard. Distributed with an <a href="https://github.com/UofSC-Fall-2022-Math-300-H01.github.io/tree/master/LICENSE.txt\">MIT license.</a></p></footer></div></div><div class="search-overlay"></div></div>
